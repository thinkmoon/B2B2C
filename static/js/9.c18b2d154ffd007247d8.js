webpackJsonp([9],{KTvf:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("4YfN"),n=s.n(a),i=s("fIxU"),o=s("Mtv5"),r=s("bYoP"),c=s("YtJ0"),d=s("9rMa"),l=s("gyMJ"),v={name:"Order",beforeRouteEnter:function(e,t,s){window.scrollTo(0,0),s()},created:function(){var e=this;Object(l.h)({user_id:this.userInfo.id},this.userInfo.token).then(function(t){-1===t.code?e.$Message.error("暂无信息，请先添加收获地址"):(e.loadAddress(t.data),e.addressData=t.data)}),Object(l.f)({user_id:this.userInfo.user_id},{token:this.userInfo.token}).then(function(t){e.loadShoppingCart(t.data)})},data:function(){return{addressData:[],goodsCheckList:[],columns:[{type:"selection",width:58,align:"center"},{title:"图片",key:"img",width:86,render:function(e,t){return e("div",[e("img",{attrs:{src:t.row.goods_image,class:"img",style:"display: inline-block;width: 70%;height: 70%;"}})])},align:"center"},{title:"标题",key:"goods_name",align:"center"},{title:"数量",key:"goods_num",width:68,align:"center"},{title:"价格",width:68,key:"goods_amount",align:"center"}],checkAddress:{name:"未选择",address:"请选择地址"},remarks:""}},computed:n()({},Object(d.e)(["address","shoppingCart","userInfo"]),{totalPrice:function(){var e=0;return this.goodsCheckList.forEach(function(t){e+=t.goods_amount}),e}}),methods:n()({},Object(d.b)(["loadAddress","loadShoppingCart"]),{select:function(e,t){console.log(e),this.goodsCheckList=e},changeAddress:function(e){var t=this;this.addressData.forEach(function(s){s.id===e&&(t.checkAddress.name=s.receiver,t.checkAddress.address=s.receiver+" "+s.province+" "+s.city+" "+s.address+" "+s.mobile+" "+s.zip)})}}),mounted:function(){var e=this;setTimeout(function(){e.$refs.selection.selectAll(!0)},500)},components:{Sreach:i.a,GoodsListNav:o.a,Footer:r.a},store:c.a},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Sreach"),e._v(" "),s("GoodsListNav"),e._v(" "),s("div",{staticClass:"goods-list-container"},[s("Alert",{staticClass:"tips-box",attrs:{"show-icon":""}},[e._v("\n      小提示\n      "),s("Icon",{attrs:{slot:"icon",type:"ios-lightbulb-outline"},slot:"icon"}),e._v(" "),s("template",{slot:"desc"},[e._v("请点击商品前的选择框，选择购物车中的商品，点击付款即可。")])],2),e._v(" "),s("Table",{ref:"selection",attrs:{border:"",columns:e.columns,data:e.shoppingCart,size:"large","no-data-text":"您的购物车没有商品，请先添加商品到购物车再点击购买"},on:{"on-selection-change":e.select}}),e._v(" "),s("div",{staticClass:"address-container"},[s("h3",[e._v("收货人信息")]),e._v(" "),s("div",{staticClass:"address-box"},[s("div",{staticClass:"address-check"},[s("div",{staticClass:"address-check-name"},[s("span",[s("Icon",{attrs:{type:"ios-checkmark-outline"}}),e._v(" "+e._s(e.checkAddress.name))],1)]),e._v(" "),s("div",{staticClass:"address-detail"},[s("p",[e._v(e._s(e.checkAddress.address))])])]),e._v(" "),s("Collapse",[s("Panel",[e._v("\n              选择地址\n              "),s("p",{attrs:{slot:"content"},slot:"content"},[s("RadioGroup",{attrs:{vertical:"",size:"large"},on:{"on-change":e.changeAddress}},e._l(e.addressData,function(t,a){return s("Radio",{key:a,attrs:{label:t.id}},[s("span",[e._v(e._s(t.receiver)+" "+e._s(t.province)+" "+e._s(t.city)+" "+e._s(t.address)+" "+e._s(t.mobile)+" "+e._s(t.postalcode))])])}))],1)])],1)],1)]),e._v(" "),s("div",{staticClass:"remarks-container"},[s("h3",[e._v("备注")]),e._v(" "),s("i-input",{staticClass:"remarks-input",attrs:{size:"large",placeholder:"在这里填写备注信息"},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}})],1),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"pay-container"},[s("div",{staticClass:"pay-box"},[s("p",[s("span",[e._v("提交订单应付总额：")]),e._v(" "),s("span",{staticClass:"money"},[s("Icon",{attrs:{type:"social-yen"}}),e._v(" "+e._s(e.totalPrice.toFixed(2)))],1)]),e._v(" "),s("div",{staticClass:"pay-btn"},[s("router-link",{attrs:{to:"/pay"}},[s("Button",{attrs:{type:"error",size:"large"}},[e._v("支付订单")])],1)],1)])])],1),e._v(" "),s("Footer")],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"invoices-container"},[t("h3",[this._v("发票信息")]),this._v(" "),t("p",[this._v("该商品不支持开发票")])])}]};var h=s("C7Lr")(v,u,!1,function(e){s("j70t")},"data-v-afb7b718",null);t.default=h.exports},j70t:function(e,t){}});
//# sourceMappingURL=9.c18b2d154ffd007247d8.js.map