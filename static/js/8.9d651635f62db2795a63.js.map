{"version":3,"sources":["webpack:///src/components/Order.vue","webpack:///./src/components/Order.vue?1bbb","webpack:///./src/components/Order.vue"],"names":["Order","name","beforeRouteEnter","to","from","next","window","scrollTo","created","_this","this","Object","api","user_id","userInfo","id","token","then","res","code","$Message","error","loadAddress","data","addressData","goodsCheckList","columns","type","width","align","title","key","render","h","params","attrs","src","row","goods_image","class","style","checkAddress","address","remarks","computed","extends_default","vuex_esm","totalPrice","price","forEach","item","goods_amount","methods","select","selection","console","log","changeAddress","father","receiver","province","city","mobile","zip","mounted","_this2","setTimeout","$refs","selectAll","components","Sreach","GoodsListNav","Footer","store","components_Order","_vm","_h","$createElement","_c","_self","_v","staticClass","show-icon","slot","ref","border","shoppingCart","size","no-data-text","on","on-selection-change","_s","vertical","on-change","_l","index","label","postalcode","placeholder","model","value","callback","$$v","expression","_m","toFixed","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/8.9d651635f62db2795a63.js","sourcesContent":["<template>\n  <div>\n    <Sreach></Sreach>\n    <GoodsListNav></GoodsListNav>\n    <div class=\"goods-list-container\">\n      <Alert show-icon class=\"tips-box\">\n        小提示\n        <Icon type=\"ios-lightbulb-outline\" slot=\"icon\"></Icon>\n        <template slot=\"desc\">请点击商品前的选择框，选择购物车中的商品，点击付款即可。</template>\n      </Alert>\n      <Table border ref=\"selection\" :columns=\"columns\" :data=\"shoppingCart\" size=\"large\" @on-selection-change=\"select\" no-data-text=\"您的购物车没有商品，请先添加商品到购物车再点击购买\"></Table>\n      <div class=\"address-container\">\n        <h3>收货人信息</h3>\n        <div class=\"address-box\">\n          <div class=\"address-check\">\n            <div class=\"address-check-name\">\n              <span><Icon type=\"ios-checkmark-outline\"></Icon> {{checkAddress.name}}</span>\n            </div>\n            <div class=\"address-detail\">\n              <p>{{checkAddress.address}}</p>\n            </div>\n          </div>\n          <Collapse>\n            <Panel>\n                选择地址\n                <p slot=\"content\">\n                  <RadioGroup vertical size=\"large\" @on-change=\"changeAddress\">\n                    <Radio :label=\"item.id\" v-for=\"(item, index) in addressData\" :key=\"index\">\n                      <span>{{item.receiver}} {{item.province}} {{item.city}} {{item.address}} {{item.mobile}} {{item.postalcode}}</span>\n                    </Radio>\n                  </RadioGroup>\n                </p>\n            </Panel>\n          </Collapse>\n        </div>\n      </div>\n      <div class=\"remarks-container\">\n        <h3>备注</h3>\n        <i-input v-model=\"remarks\" size=\"large\" placeholder=\"在这里填写备注信息\" class=\"remarks-input\"></i-input>\n      </div>\n      <div class=\"invoices-container\">\n        <h3>发票信息</h3>\n        <p>该商品不支持开发票</p>\n      </div>\n      <div class=\"pay-container\">\n        <div class=\"pay-box\">\n          <p><span>提交订单应付总额：</span> <span class=\"money\"><Icon type=\"social-yen\"></Icon> {{totalPrice.toFixed(2)}}</span></p>\n          <div class=\"pay-btn\">\n            <router-link to=\"/pay\"><Button type=\"error\" size=\"large\">支付订单</Button></router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n    <Footer></Footer>\n  </div>\n</template>\n\n<script>\nimport Sreach from '@/components/Sreach';\nimport GoodsListNav from '@/components/nav/GoodsListNav';\nimport Footer from '@/components/footer/Footer';\nimport store from '@/vuex/store';\nimport { mapState, mapActions } from 'vuex';\nimport { getUserConsignee } from '../api/index';\nexport default {\n  name: 'Order',\n  beforeRouteEnter (to, from, next) {\n    window.scrollTo(0, 0);\n    next();\n  },\n  created () {\n    getUserConsignee({user_id: this.userInfo.id}, this.userInfo.token).then(\n      res => {\n        if (res.code === -1) {\n          this.$Message.error('暂无信息，请先添加收获地址');\n        } else {\n          this.loadAddress(res.data);\n          this.addressData = res.data;\n        }\n      }\n    );\n  },\n  data () {\n    return {\n      addressData: [],\n      goodsCheckList: [],\n      columns: [\n        {\n          type: 'selection',\n          width: 58,\n          align: 'center'\n        },\n        {\n          title: '图片',\n          key: 'img',\n          width: 86,\n          render: (h, params) => {\n            return h('div', [\n              h('img', {\n                attrs: {\n                  src: params.row.goods_image,\n                  class: 'img',\n                  style: 'display: inline-block;width: 70%;height: 70%;'\n                }\n              })\n            ]);\n          },\n          align: 'center'\n        },\n        {\n          title: '标题',\n          key: 'goods_name',\n          align: 'center'\n        },\n        {\n          title: '数量',\n          key: 'goods_num',\n          width: 68,\n          align: 'center'\n        },\n        {\n          title: '价格',\n          width: 68,\n          key: 'goods_amount',\n          align: 'center'\n        }\n      ],\n      checkAddress: {\n        name: '未选择',\n        address: '请选择地址'\n      },\n      remarks: ''\n    };\n  },\n  computed: {\n    ...mapState(['address', 'shoppingCart', 'userInfo']),\n    totalPrice () {\n      let price = 0;\n      this.goodsCheckList.forEach(item => {\n        price += item.goods_amount;\n      });\n      return price;\n    }\n  },\n  methods: {\n    ...mapActions(['loadAddress']),\n    select (selection, row) {\n      console.log(selection);\n      this.goodsCheckList = selection;\n    },\n    changeAddress (data) {\n      const father = this;\n      this.addressData.forEach(item => {\n        if (item.id === data) {\n          father.checkAddress.name = item.receiver;\n          father.checkAddress.address = `${item.receiver} ${item.province} ${item.city} ${item.address} ${item.mobile} ${item.zip}`;\n        }\n      });\n    }\n  },\n  mounted () {\n    setTimeout(() => {\n      this.$refs.selection.selectAll(true);\n    }, 500);\n  },\n  components: {\n    Sreach,\n    GoodsListNav,\n    Footer\n  },\n  store\n};\n</script>\n\n<style scoped>\n.goods-list-container {\n  margin: 15px auto;\n  width: 80%;\n}\n.tips-box {\n  margin-bottom: 15px;\n}\n.address-container {\n  margin-top: 15px;\n}\n.address-box {\n  margin-top: 15px;\n  padding: 15px;\n  border: 1px #ccc dotted;\n}\n.address-check {\n  margin: 15px 0px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n}\n.address-check-name {\n  width: 120px;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  background-color: #ccc;\n}\n.address-check-name span {\n  width: 120px;\n  height: 36px;\n  font-size: 14px;\n  line-height: 36px;\n  text-align: center;\n  color: #fff;\n  background-color: #f90013;\n}\n.address-detail {\n  padding-left: 15px;\n  font-size: 14px;\n  color: #999999;\n}\n.remarks-container {\n  margin: 15px 0px;\n}\n.remarks-input {\n  margin-top: 15px;\n}\n.invoices-container p{\n  font-size: 12px;\n  line-height: 30px;\n  color: #999;\n}\n.pay-container {\n  margin: 15px;\n  display: flex;\n  justify-content: flex-end;\n}\n.pay-box {\n  font-size: 18px;\n  font-weight: bolder;\n  color: #495060;\n}\n.money {\n  font-size: 26px;\n  color: #f90013;\n}\n.pay-btn {\n  margin: 15px 0px;\n  display: flex;\n  justify-content: flex-end;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Order.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Sreach'),_vm._v(\" \"),_c('GoodsListNav'),_vm._v(\" \"),_c('div',{staticClass:\"goods-list-container\"},[_c('Alert',{staticClass:\"tips-box\",attrs:{\"show-icon\":\"\"}},[_vm._v(\"\\n      小提示\\n      \"),_c('Icon',{attrs:{\"slot\":\"icon\",\"type\":\"ios-lightbulb-outline\"},slot:\"icon\"}),_vm._v(\" \"),_c('template',{slot:\"desc\"},[_vm._v(\"请点击商品前的选择框，选择购物车中的商品，点击付款即可。\")])],2),_vm._v(\" \"),_c('Table',{ref:\"selection\",attrs:{\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.shoppingCart,\"size\":\"large\",\"no-data-text\":\"您的购物车没有商品，请先添加商品到购物车再点击购买\"},on:{\"on-selection-change\":_vm.select}}),_vm._v(\" \"),_c('div',{staticClass:\"address-container\"},[_c('h3',[_vm._v(\"收货人信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"address-box\"},[_c('div',{staticClass:\"address-check\"},[_c('div',{staticClass:\"address-check-name\"},[_c('span',[_c('Icon',{attrs:{\"type\":\"ios-checkmark-outline\"}}),_vm._v(\" \"+_vm._s(_vm.checkAddress.name))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"address-detail\"},[_c('p',[_vm._v(_vm._s(_vm.checkAddress.address))])])]),_vm._v(\" \"),_c('Collapse',[_c('Panel',[_vm._v(\"\\n              选择地址\\n              \"),_c('p',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('RadioGroup',{attrs:{\"vertical\":\"\",\"size\":\"large\"},on:{\"on-change\":_vm.changeAddress}},_vm._l((_vm.addressData),function(item,index){return _c('Radio',{key:index,attrs:{\"label\":item.id}},[_c('span',[_vm._v(_vm._s(item.receiver)+\" \"+_vm._s(item.province)+\" \"+_vm._s(item.city)+\" \"+_vm._s(item.address)+\" \"+_vm._s(item.mobile)+\" \"+_vm._s(item.postalcode))])])}))],1)])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"remarks-container\"},[_c('h3',[_vm._v(\"备注\")]),_vm._v(\" \"),_c('i-input',{staticClass:\"remarks-input\",attrs:{\"size\":\"large\",\"placeholder\":\"在这里填写备注信息\"},model:{value:(_vm.remarks),callback:function ($$v) {_vm.remarks=$$v},expression:\"remarks\"}})],1),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"pay-container\"},[_c('div',{staticClass:\"pay-box\"},[_c('p',[_c('span',[_vm._v(\"提交订单应付总额：\")]),_vm._v(\" \"),_c('span',{staticClass:\"money\"},[_c('Icon',{attrs:{\"type\":\"social-yen\"}}),_vm._v(\" \"+_vm._s(_vm.totalPrice.toFixed(2)))],1)]),_vm._v(\" \"),_c('div',{staticClass:\"pay-btn\"},[_c('router-link',{attrs:{\"to\":\"/pay\"}},[_c('Button',{attrs:{\"type\":\"error\",\"size\":\"large\"}},[_vm._v(\"支付订单\")])],1)],1)])])],1),_vm._v(\" \"),_c('Footer')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"invoices-container\"},[_c('h3',[_vm._v(\"发票信息\")]),_vm._v(\" \"),_c('p',[_vm._v(\"该商品不支持开发票\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-bc8acf6a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/Order.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bc8acf6a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Order.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Order.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Order.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bc8acf6a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Order.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bc8acf6a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Order.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}